{"ast":null,"code":"import { IncomingMessage, ServerResponse } from 'http';\nimport DB from '@database';\n\nconst allSubj = async (req, res) => {\n  //   try {\n  // Generally, you would not want this in your apps.\n  // See more in 'cors.js'\n  // await enablePublicAccess(req, res)\n  const db = new DB();\n  const allEntries = await db.getAll();\n  const lenght = allEntries.length; // Notice: We're manually setting the response object\n  // However Next.JS offers Express-like helpers :)\n  // https://nextjs.org/docs/api-routes/response-helpers\n\n  res.statusCode = 200;\n  res.setHeader('Content-Type', 'application/json');\n  res.end(JSON.stringify({\n    lenght,\n    data: allEntries\n  })); //   } catch (e) {\n  //     console.error(e)\n  //     res.statusCode = 500\n  //     res.end(\n  //       JSON.stringify({ length: 0, data: [], error: 'Something went wrong' })\n  //     )\n  //   }\n};\n\nexport default allSubj;","map":{"version":3,"sources":["/Users/acrux95/Dropbox/codding/algotive/pages/api/subject/index.js"],"names":["IncomingMessage","ServerResponse","DB","allSubj","req","res","db","allEntries","getAll","lenght","length","statusCode","setHeader","end","JSON","stringify","data"],"mappings":"AAAA,SAASA,eAAT,EAA0BC,cAA1B,QAAgD,MAAhD;AACA,OAAOC,EAAP,MAAe,WAAf;;AAGA,MAAMC,OAAO,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACpC;AACI;AACA;AACA;AAEA,QAAMC,EAAE,GAAG,IAAIJ,EAAJ,EAAX;AACA,QAAMK,UAAU,GAAG,MAAMD,EAAE,CAACE,MAAH,EAAzB;AACA,QAAMC,MAAM,GAAGF,UAAU,CAACG,MAA1B,CARgC,CAUhC;AACA;AACA;;AACAL,EAAAA,GAAG,CAACM,UAAJ,GAAiB,GAAjB;AACAN,EAAAA,GAAG,CAACO,SAAJ,CAAc,cAAd,EAA8B,kBAA9B;AACAP,EAAAA,GAAG,CAACQ,GAAJ,CAAQC,IAAI,CAACC,SAAL,CAAe;AAAEN,IAAAA,MAAF;AAAUO,IAAAA,IAAI,EAAET;AAAhB,GAAf,CAAR,EAfgC,CAgBpC;AACA;AACA;AACA;AACA;AACA;AACA;AACC,CAvBD;;AAyBA,eAAeJ,OAAf","sourcesContent":["import { IncomingMessage, ServerResponse } from 'http'\nimport DB from '@database'\n\n\nconst allSubj = async (req, res) => {\n//   try {\n    // Generally, you would not want this in your apps.\n    // See more in 'cors.js'\n    // await enablePublicAccess(req, res)\n\n    const db = new DB()\n    const allEntries = await db.getAll()\n    const lenght = allEntries.length\n\n    // Notice: We're manually setting the response object\n    // However Next.JS offers Express-like helpers :)\n    // https://nextjs.org/docs/api-routes/response-helpers\n    res.statusCode = 200\n    res.setHeader('Content-Type', 'application/json')\n    res.end(JSON.stringify({ lenght, data: allEntries }))\n//   } catch (e) {\n//     console.error(e)\n//     res.statusCode = 500\n//     res.end(\n//       JSON.stringify({ length: 0, data: [], error: 'Something went wrong' })\n//     )\n//   }\n}\n\nexport default allSubj\n"]},"metadata":{},"sourceType":"module"}